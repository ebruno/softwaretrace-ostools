<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Operating System Management Tools: Building and Packaging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Operating System Management Tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_building_and_packaging.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Building and Packaging </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Supported Operating Systems are show below:</p><ul>
<li>ArchLinux 4.N</li>
<li>CentOS 7.N</li>
<li>Fedora 27.N</li>
<li>FreeBSD 11.N (FreeBSD version 9.N should also work)</li>
<li>RedHat Enterprise Linux 7.N</li>
<li>Ubuntu 16.N</li>
</ul>
<p>Cmake version 2.8 is the mininum version supported. The cmake will create build environment for the c and c++ versions of the tools. </p><h3>Building</h3>
<p>After checking out the code from github from the following steps: </p><pre class="fragment">cd softwaretrace-ostools/processmanagment/os/c_cpp

To create build system for the release version enter:
cmake .&lt;cr&gt;
-- The C compiler identification is GNU 4.8.5

-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
---- CMAKE_INSTALL_LOCALSTATEDIR 
---- CMAKE_INSTALL_SYSCONFDIR  
---- CMAKE_LIBRARY_PATH  
---- CMAKE_SYSTEM Linux-3.10.0-693.21.1.el7.x86_64
---- CMAKE_SYSTEM_NAME Linux
---- CMAKE_HOST_SYSTEM Linux-3.10.0-693.21.1.el7.x86_64
---- CMAKE_HOST_SYSTEM_NAME Linux
---- CMAKE_HOST_UNIX 1
---- OS_RELEASE_INFO NAME="CentOS Linux"
---- OS_NAME 'CentOS Linux'
-- Release;BuildType
-- Building librarys swtrstrlib swtrprocmgt
-- INSTALL ROOT: /home/ebruno/softwaretrace-ostools/processmanagment/os/c_cpp
-- Adding library swtrstrlib to build.
-- Adding library swtrstrlib to install.
-- Adding library swtrprocmgt to build.
-- Adding library swtrprocmgt to install.
-- Adding demo programs
-- Configuring done
-- Generating done
-- Build files have been written to: /home/ebruno/softwaretrace-ostools/processmanagment/os/c_cpp

make&lt;cr&gt;

To create build system for the version compile with debuging support enter:
cmake -DCMAKE_BUILD_TYPE MATCHES:STRING=Debug .&lt;cr&gt;
make&lt;cr&gt;

---- CMAKE_INSTALL_LOCALSTATEDIR 
---- CMAKE_INSTALL_SYSCONFDIR  
---- CMAKE_LIBRARY_PATH  
---- CMAKE_SYSTEM Linux-3.10.0-693.21.1.el7.x86_64
---- CMAKE_SYSTEM_NAME Linux
---- CMAKE_HOST_SYSTEM Linux-3.10.0-693.21.1.el7.x86_64
---- CMAKE_HOST_SYSTEM_NAME Linux
---- CMAKE_HOST_UNIX 1
---- OS_RELEASE_INFO NAME="CentOS Linux"
---- OS_NAME 'CentOS Linux'
-- Debug
-- Building librarys swtrstrlib swtrprocmgt
-- INSTALL ROOT: /home/ebruno/softwaretrace-ostools/processmanagment/os/c_cpp
-- Adding library swtrstrlib to build.
-- Adding library swtrstrlib to install.
-- Adding library swtrprocmgt to build.
-- Adding library swtrprocmgt to install.
-- Adding demo programs
-- Configuring done
-- Generating done
-- Build files have been written to: /home/ebruno/softwaretrace-ostools/processmanagment/os/c_cpp

Sample Build output:
Scanning dependencies of target swtrprocmgt

[  4%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/getmaxpid.c.o
[  9%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/init_ctrl.c.o
[ 14%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/getprocstat.c.o
[ 19%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/count_children.c.o
[ 23%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/set_kernel_version.c.o
[ 28%] Building C object CMakeFiles/swtrprocmgt.dir/src_c/reapzombie_status.c.o
Linking C shared library src_c/libswtrprocmgt.so
[ 28%] Built target swtrprocmgt
Scanning dependencies of target swtrstrlib
[ 33%] Building C object CMakeFiles/swtrstrlib.dir/src_c/lremove_char.c.o
[ 38%] Building C object CMakeFiles/swtrstrlib.dir/src_c/rremove_char.c.o
[ 42%] Building C object CMakeFiles/swtrstrlib.dir/src_c/remove_char.c.o
Linking C shared library src_c/libswtrstrlib.so
[ 42%] Built target swtrstrlib
Scanning dependencies of target demo_001
[ 47%] Building C object CMakeFiles/demo_001.dir/src_demo_c/demo_001.c.o
Linking C executable demo_bin/demo_001
[ 47%] Built target demo_001
Scanning dependencies of target demo_002
[ 52%] Building C object CMakeFiles/demo_002.dir/src_demo_c/demo_002.c.o
Linking C executable demo_bin/demo_002
[ 52%] Built target demo_002
Scanning dependencies of target demo_003
[ 57%] Building C object CMakeFiles/demo_003.dir/src_demo_c/demo_003.c.o
Linking C executable demo_bin/demo_003
[ 57%] Built target demo_003
Scanning dependencies of target swtrprocmgt_static
[ 61%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/getmaxpid.c.o
[ 66%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/init_ctrl.c.o
[ 71%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/getprocstat.c.o
[ 76%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/count_children.c.o
[ 80%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/set_kernel_version.c.o
[ 85%] Building C object CMakeFiles/swtrprocmgt_static.dir/src_c/reapzombie_status.c.o
Linking C static library src_c/libswtrprocmgt_static.a
[ 85%] Built target swtrprocmgt_static
Scanning dependencies of target swtrstrlib_static
[ 90%] Building C object CMakeFiles/swtrstrlib_static.dir/src_c/lremove_char.c.o
[ 95%] Building C object CMakeFiles/swtrstrlib_static.dir/src_c/rremove_char.c.o
[100%] Building C object CMakeFiles/swtrstrlib_static.dir/src_c/remove_char.c.o
Linking C static library src_c/libswtrstrlib_static.a
[100%] Built target swtrstrlib_static
</pre><p>To clean up after a build enter make clean, to clean up to a pristine state enter make dist_clean.</p>
<h3>Packaging</h3>
<p>To build a package use the make file Makefile_packages cmake will be run as part of package creation process. </p><pre class="fragment">make -f Makefile_packages &lt;rule name&gt; 
For example if specify the ArchLinux rule on CentOS the following will be displayed:
[user@system c_cpp]$ make -f Makefile_packages swtrstrlib_create_distro

Checking to see if OS/Distro ""CentOS Linux"" is supported
OS/Distro ""CentOS Linux"" is supported, continuing.
make: *** No rule to make target `swtrstrlib_create_distro'.  Stop.
</pre><p>Note rules only work on stated operating system.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation System  </th><th class="markdownTableHeadNone">packaging rule name   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RHEL,CentOS, Fedora  </td><td class="markdownTableBodyNone">swtrstrlib_create_rpm, swtrprocmgtutilslib_create_rpm   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">Ubuntu  </td><td class="markdownTableBodyNone">swtrstrlib_create_pkg, swtrprocmgtutilslib_create_pkg   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ArchLinux  </td><td class="markdownTableBodyNone">swtrstrlib_create_distro, swtrprocmgtutils_create_distro   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">FreeBSD  </td><td class="markdownTableBodyNone"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Provide packaging for FreeBSD <br />
 </dd></dl>
</td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
